(()=>{"use strict";var e={3432:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"pictures/audio.png"},4744:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"pages/audio/fail.mp3"},2833:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});const i=n.p+"pages/audio/success.mp3"},1586:(e,t,n)=>{n.r(t)},4117:(e,t,n)=>{n.r(t)},5191:(e,t,n)=>{n.r(t)},486:(e,t,n)=>{n.r(t)},1432:(e,t,n)=>{n.r(t)},4155:(e,t,n)=>{n.r(t)},7724:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Api=void 0;class i{static createUser(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(this.baseLink+"users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static singIn(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(this.baseLink+"signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return yield t.json()}))}static getWords(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`words?group=${e}&page=${t}`);return yield n.json()}))}static getWord(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(this.baseLink+`words/${e}`);return yield t.json()}))}static getUser(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield n.json()}))}static updateUser(e,t,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});return yield n.json()}))}static deleteUser(e,t){return n(this,void 0,void 0,(function*(){yield fetch(this.baseLink+`users/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}})}))}static getNewUserToken(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/tokens`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield n.json()}))}static getUserWords(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/words`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield n.json()}))}static createUserWord(e,t,i,o){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/words/${i}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});return yield n.json()}))}static getUserWordById(e,t,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/words/${i}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield n.json()}))}static updateUserWord(e,t,i,o){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/words/${i}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});return yield n.json()}))}static deleteUserWordById(e,t,i){return n(this,void 0,void 0,(function*(){yield fetch(this.baseLink+`users/${e}/words/${i}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}})}))}static getUserAggregateWord(e,t,i,o,a,r){return n(this,void 0,void 0,(function*(){const n=this.createLink(i,o,a,r),s=yield fetch(this.baseLink+`users/${e}/aggregatedWords?`+n,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield s.json()}))}static getUserAggregateWordById(e,t,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/aggregatedWords/${i}`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield n.json()}))}static getUserStatistic(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/statistics`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield n.json()}))}static upsertUserStatistic(e,t,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});return yield n.json()}))}static getUserSettings(e,t){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/settings`,{method:"GET",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return yield n.json()}))}static upsertUserSettings(e,t,i){return n(this,void 0,void 0,(function*(){const n=yield fetch(this.baseLink+`users/${e}/settings`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i)});return yield n.json()}))}static createLink(e,t,n,i){let o,a="";return null!=n&&(a=JSON.stringify(n.condition)),o=null==i?`page=${e}&wordsPerPage=${t}&filter=${a}`:`group=${i}&page=${e}&wordsPerPage=${t}&filter=${a}`,o}}t.Api=i,i.baseLink="https://rs-lang-team-116.herokuapp.com/"},3228:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Filter=t.AndCondition=t.OrCondition=t.UserWordFilter=t.CreateUserWord=void 0,t.CreateUserWord=class{},t.UserWordFilter=class{},t.OrCondition=class{constructor(e){this.$or=e}},t.AndCondition=class{constructor(e){this.$and=e}},t.Filter=class{constructor(e){this.condition=e}}},8974:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.logOut=t.auth=t.registration=void 0,n(1586);const o=n(7724);function a(){return i(this,void 0,void 0,(function*(){c();const e=document.createElement("div");document.body.appendChild(e),e.classList.add("backBlack"),e.addEventListener("click",c);const t=document.createElement("div");document.body.appendChild(t),t.classList.add("popUp"),t.innerHTML=s,document.querySelector("#registrationButton").addEventListener("click",(()=>{!function(){i(this,void 0,void 0,(function*(){const e=document.querySelector("#InputName").value,t=document.querySelector("#InputEmail").value,n=document.querySelector("#InputPassword").value,a={name:e,email:t,password:n};try{if((yield o.Api.createUser(a)).name){const e={email:t,password:n},r=yield o.Api.singIn(e);localStorage.setItem("userId",r.userId),localStorage.setItem("userEmail",a.email),localStorage.setItem("userName",r.name),localStorage.setItem("userToken",r.token),localStorage.setItem("userRefreshToken",r.refreshToken),alert("Registration completed successfully!"),c(),yield function(e,t){return i(this,void 0,void 0,(function*(){const n=new Date,i={};i[`${n.getDate()} ${n.getMonth()+1} ${n.getFullYear()}`]=0;const a={learnedWords:0,optional:{sprint:{accuracy:0,newWords:0,maxInRow:0,date:"",correctToday:0,incorrectToday:0},audio:{accuracy:0,newWords:0,maxInRow:0,date:"",correctToday:0,incorrectToday:0},learnedWordsByDays:i,newWordsByDays:i}};yield o.Api.upsertUserStatistic(e,t,a).then()}))}(r.userId,r.token),yield function(e,t){return i(this,void 0,void 0,(function*(){yield o.Api.upsertUserSettings(e,t,{wordsPerDay:1,optional:{translate:"true"}}).then()}))}(r.userId,r.token),location.reload()}else alert("Registration failed")}catch(e){alert("There is already a user with such data")}}))}()})),document.querySelector("#toAuth").addEventListener("click",r)}))}function r(){return i(this,void 0,void 0,(function*(){c();const e=document.createElement("div");document.body.appendChild(e),e.classList.add("backBlack"),e.addEventListener("click",(()=>c()));const t=document.createElement("div");document.body.appendChild(t),t.classList.add("popUp"),t.innerHTML=d,document.querySelector("#authButton").addEventListener("click",(()=>function(){return i(this,void 0,void 0,(function*(){const e={email:document.querySelector("#InputEmail").value,password:document.querySelector("#InputPassword").value};try{const t=yield o.Api.singIn(e);t.name?(localStorage.setItem("userId",t.userId),localStorage.setItem("userEmail",e.email),localStorage.setItem("userName",t.name),localStorage.setItem("userToken",t.token),localStorage.setItem("userRefreshToken",t.refreshToken)):alert("Something went wrong")}catch(e){alert("Something went wrong")}c(),location.reload()}))}())),document.querySelector("#toReg").addEventListener("click",a)}))}t.registration=a,t.auth=r;const s='\n  <h2>Registration</h2>\n  <form>\n  <div class="form-group">\n      <label for="InputName">Your name</label>\n      <input type="text" class="form-control" id="InputName" placeholder="Enter name">\n    </div>\n    <div class="form-group">\n      <label for="InputEmail">Email address</label>\n      <input type="email" class="form-control" id="InputEmail" aria-describedby="emailHelp" placeholder="Enter email">\n    </div>\n    <div class="form-group">\n      <label for="InputPassword">Password</label>\n      <input type="password" class="form-control" id="InputPassword" placeholder="Password">\n    </div>\n    <div class="authButton" id="registrationButton">Register</div>\n  </form>\n  <p id="toAuth" class="authLink">Log in your account</p>\n',d='\n  <h2>Log in your account</h2>\n  <form>\n    <div class="form-group">\n      <label for="InputEmail">Email address</label>\n      <input type="email" class="form-control" id="InputEmail" aria-describedby="emailHelp" placeholder="Enter email">\n    </div>\n    <div class="form-group">\n      <label for="InputPassword">Password</label>\n      <input type="password" class="form-control" id="InputPassword" placeholder="Password">\n    </div>\n    <div class="authButton" id="authButton">Log in</div>\n  </form>\n  <p id="toReg" class="authLink">Registration</p>\n';function c(){document.querySelector(".popUp")&&(document.querySelector(".popUp").remove(),document.querySelector(".backBlack").remove())}t.logOut=function(){localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("userToken"),localStorage.removeItem("userRefreshToken"),localStorage.removeItem("userEmail"),localStorage.clear(),location.reload()}},3336:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),n(4117),t.default=function(e,t){document.body.innerHTML=`  <header>\n    <div class="title-with-description">\n      <h1>${e}</h1>${t?"\n      <div><span>One of the best online textbooks for learning english :)</span></div>\n      ":""}\n    </div>\n    <div class="gamburger-menu">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n    ${localStorage.getItem("userName")?`<div class="user-information"><button class="log-out">Log out</button>\n    <p>Name: ${localStorage.getItem("userName")}</p>\n    <p>Email: ${localStorage.getItem("userEmail")}</p>\n    </div>\n    `:'<button class="sign-in-or-log-in-button">Log in / Registration</button>'}\n  </header>${document.body.innerHTML}`,document.querySelector(".gamburger-menu").addEventListener("click",(()=>{document.querySelector("aside").classList.toggle("active"),document.querySelector(".gamburger-menu").classList.toggle("active")}))}},9387:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(5191);const o=n(2661),a=n(7724),r=n(5972);t.default=function(e){return i(this,void 0,void 0,(function*(){document.body.innerHTML="Main"==e?`<aside>\n  <nav>\n    <p>Menu</p>\n    <ul>\n      <li class="active"><a href="">Main</a></li>\n      <li><a href="./pages/textbook.html">Textbook</a></li>\n      <li><a href="./pages/sprint.html">Sprint</a></li>\n      <li><a href="./pages/audio.html">Audio</a></li>\n      ${localStorage.getItem("userId")?'<li><a href="./pages/statistics.html">Statistics</a></li>':""}\n    </ul>\n  </nav>\n</aside>${document.body.innerHTML}`:"Textbook"==e?`<aside>\n    <nav>\n      <p>Menu</p>\n      <ul>\n        <li><a href="../index.html">Main</a></li>\n        <li class="active"><a href="./textbook.html">Textbook</a></li>\n        <li><a href="./sprint.html">Sprint</a></li>\n        <li><a href="./audio.html">Audio</a></li>\n        ${localStorage.getItem("userId")?'<li><a href="./statistics.html">Statistics</a></li>':""}\n      </ul>\n    </nav>\n  </aside>${document.body.innerHTML}`:"Sprint"==e?`<aside>\n    <nav>\n      <p>Menu</p>\n      <ul>\n        <li><a href="../index.html">Main</a></li>\n        <li><a href="./textbook.html">Textbook</a></li>\n        <li class="active"><a href="./sprint.html">Sprint</a></li>\n        <li><a href="./audio.html">Audio</a></li>\n        ${localStorage.getItem("userId")?'<li><a href="./statistics.html">Statistics</a></li>':""}\n      </ul>\n    </nav>\n  </aside>${document.body.innerHTML}`:"Audio"==e?`<aside>\n    <nav>\n      <p>Menu</p>\n      <ul>\n        <li><a href="../index.html">Main</a></li>\n        <li><a href="./textbook.html">Textbook</a></li>\n        <li><a href="./sprint.html">Sprint</a></li>\n        <li class="active"><a href="./audio.html">Audio</a></li>\n        ${localStorage.getItem("userId")?'<li><a href="./statistics.html">Statistics</a></li>':""}\n      </ul>\n    </nav>\n  </aside>${document.body.innerHTML}`:`<aside>\n    <nav>\n      <p>Menu</p>\n      <ul>\n        <li><a href="../index.html">Main</a></li>\n        <li><a href="./textbook.html">Textbook</a></li>\n        <li><a href="./sprint.html">Sprint</a></li>\n        <li><a href="./audio.html">Audio</a></li>\n        ${localStorage.getItem("userId")?'<li class="active"><a href="./statistics.html">Statistics</a></li>':""}\n      </ul>\n    </nav>\n  </aside>${document.body.innerHTML}`,yield function(e){return i(this,void 0,void 0,(function*(){"Textbook"!=e&&(yield(0,o.getNewToken)().then());let t="checked";if(null!=localStorage.getItem("userId")){const e=localStorage.getItem("userId"),n=localStorage.getItem("userToken"),i=yield a.Api.getUserSettings(e,n).then();localStorage.setItem("translateWord",i.optional.translate),t="false"==i.optional.translate?"":"checked"}else null!=localStorage.getItem("translateWord")?"false"==localStorage.getItem("translateWord")&&(t=""):localStorage.setItem("translateWord","true");const n=document.querySelector("aside"),s=document.createElement("div");s.id="translate",s.classList.add("translate"),n.append(s),document.getElementById("translate").innerHTML=`\n        <span class="translate__name">Translate words</span>\n        <label class="switch">\n          <input type="checkbox" ${t}>\n          <span class="slider round" data-name="checkbox"></span>\n        </label>`,document.addEventListener("click",(t=>i(this,void 0,void 0,(function*(){let n=localStorage.getItem("translateWord");if("checkbox"==t.target.dataset.name){let t="false"==n?"true":"false";if(null!=localStorage.getItem("userId")){const n={wordsPerDay:1,optional:{translate:t}},i=localStorage.getItem("userId"),s=localStorage.getItem("userToken");if("Textbook"==e){localStorage.setItem("translateWord",t),yield a.Api.upsertUserSettings(i,s,n);const e=Number(localStorage.getItem("page")),d=Number(localStorage.getItem("group"));document.getElementById("word-cards-container").children[0].classList.contains("difficult")?yield(0,o.viewWordCards)("word-cards-container",0,0,r.FilterViewWordCard.difficult).then():document.getElementById("word-cards-container").children[0].classList.contains("learned")?(0,o.viewWordCards)("word-cards-container",0,0,r.FilterViewWordCard.learned).then():yield(0,o.viewWordCards)("word-cards-container",d,e).then()}else localStorage.setItem("translateWord",t),yield a.Api.upsertUserSettings(i,s,n)}else if("Textbook"==e){localStorage.setItem("translateWord",t);const e=Number(localStorage.getItem("page")),n=Number(localStorage.getItem("group"));yield(0,o.viewWordCards)("word-cards-container",n,e).then()}else localStorage.setItem("translateWord",t)}}))))}))}(e).then()}))}},5972:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.FilterViewWordCard=void 0,(n=t.FilterViewWordCard||(t.FilterViewWordCard={})).difficult="difficult",n.learned="learned"},2661:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getNewToken=t.removeStyleLearnedPage=t.addStyleLearnedPage=t.difficultFilter=t.viewWordCards=void 0;const o=n(7724),a=n(3228),r=n(5972),s=n(8182);function d(){const e=new a.UserWordFilter;e["userWord.difficulty"]="hard";const t=new a.OrCondition([e]);return new a.Filter(t)}function c(){document.getElementById("word-cards-container").style.background="yellowgreen",document.querySelector(".pagination").classList.add("bg-success-25"),document.querySelector(".games-links").children[0].setAttribute("disabled","disabled"),document.querySelector(".games-links").children[1].setAttribute("disabled","disabled")}function l(){document.getElementById("word-cards-container").style.background="",document.querySelector(".pagination").classList.remove("bg-success-25"),document.querySelector(".games-links").children[0].removeAttribute("disabled"),document.querySelector(".games-links").children[1].removeAttribute("disabled")}function u(){return i(this,void 0,void 0,(function*(){let e=localStorage.getItem("userId"),t=localStorage.getItem("userToken");if(null!=e)try{yield o.Api.getUser(e,t).then()}catch(n){const i=localStorage.getItem("userRefreshToken"),a=yield o.Api.getNewUserToken(e,i);localStorage.setItem("userRefreshToken",a.refreshToken),console.log("Токен установлен"),localStorage.setItem("userToken",a.token),t=a.token}return{userId:e,token:t}}))}n(486),t.viewWordCards=function(e,t,n,p){return i(this,void 0,void 0,(function*(){l(),document.querySelector(".pagination").style.pointerEvents="none",document.getElementById(e).innerHTML='<div class="loader__wrapper"><div class="loader" style="--b: 5px;--c:yellowgreen;width:100px;--n:10;--g:20deg"></div></div>';const{id:v,containerHTML:m}=yield function(e,t,n){return i(this,void 0,void 0,(function*(){let i="",s=20;const c=[],{userId:l,token:p}=yield u(),v=localStorage.getItem("translateWord");if(n!=r.FilterViewWordCard.difficult&&n!=r.FilterViewWordCard.learned||(s=3600),null!=l)if(3600===s){const e=function(e){switch(e){case"difficult":return d();case"learned":return function(){const e=new a.UserWordFilter;e["userWord.optional.learning"]=!0;const t=new a.OrCondition([e]);return new a.Filter(t)}()}}(n),u=yield o.Api.getUserAggregateWord(l,p,t,s,e);n==r.FilterViewWordCard.difficult?u[0].paginatedResults.forEach((e=>{i+=function(e,t){let n="false"==t?"displayNone":"";return 0!=e.userWord.optional.statistic.incorrect||0!=e.userWord.optional.statistic.correct?`<div class="container p-2 mt-2 border border-danger wordCard bg-danger rounded-4 border-3 difficult" id="${e._id}">\n        <div class="row">\n            <div class="col-3 overflow-hidden d-flex justify-content-center m-auto">\n                <img class="m-auto" src="https://rs-lang-team-116.herokuapp.com/${e.image}">\n            </div>\n            <div class="col-8">\n                <div class="row">\n                    <div class="col">\n                        <b>${e.word} </b><span>${e.transcription}</span><span class="${n}"> - ${e.wordTranslate}</span>\n                    </div>\n                    <div class="col">\n                        <button class="btn btn-primary" type="button" data-name="listen" data-wordid="${e._id}" data-audio="${e.audio}" data-meaning="${e.audioMeaning}" data-example="${e.audioExample}">Listen</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col"><b>Correct: ${e.userWord.optional.statistic.correct} | Incorrect: ${e.userWord.optional.statistic.incorrect}</b></div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textMeaning}</div>\n                </div>\n                <div class="row mb-3">\n                    <div class="col ${n}">${e.textMeaningTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textExample}</div>\n                </div>\n                <div class="row mb-4">\n                    <div class="col ${n}">${e.textExampleTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="d-grid gap-2 d-md-block">\n                        <button class="btn btn-primary" type="button" data-name="easy" data-wordid="${e._id}">Easy</button>\n                        <button class="btn btn-primary" type="button" data-name="learned" data-wordid="${e._id}">Learned</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>`:`<div class="container p-2 mt-2 border border-danger wordCard bg-danger rounded-4 border-3 difficult" id="${e._id}">\n        <div class="row">\n            <div class="col-3 overflow-hidden d-flex justify-content-center m-auto">\n                <img class="m-auto" src="https://rs-lang-team-116.herokuapp.com/${e.image}">\n            </div>\n            <div class="col-8">\n                <div class="row">\n                    <div class="col">\n                        <b>${e.word} </b><span>${e.transcription}</span><span class="${n}"> - ${e.wordTranslate}</span>\n                    </div>\n                    <div class="col">\n                        <button class="btn btn-primary" type="button" data-name="listen" data-wordid="${e._id}" data-audio="${e.audio}" data-meaning="${e.audioMeaning}" data-example="${e.audioExample}">Listen</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textMeaning}</div>\n                </div>\n                <div class="row mb-3">\n                    <div class="col ${n}">${e.textMeaningTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textExample}</div>\n                </div>\n                <div class="row mb-4">\n                    <div class="col ${n}">${e.textExampleTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="d-grid gap-2 d-md-block">\n                        <button class="btn btn-primary" type="button" data-name="easy" data-wordid="${e._id}">Easy</button>\n                        <button class="btn btn-primary" type="button" data-name="learned" data-wordid="${e._id}">Learned</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>`}(e,v),c.push(e._id)})):u[0].paginatedResults.forEach((e=>{i+=function(e,t){let n="false"==t?"displayNone":"";return 0!=e.userWord.optional.statistic.incorrect||0!=e.userWord.optional.statistic.correct?`<div class="container p-2 mt-2 border border-danger wordCard bg-success rounded-4 border-3 learned" id="${e._id}">\n        <div class="row">\n            <div class="col-3 overflow-hidden d-flex justify-content-center m-auto">\n                <img class="m-auto" src="https://rs-lang-team-116.herokuapp.com/${e.image}">\n            </div>\n            <div class="col-8">\n                <div class="row">\n                    <div class="col">\n                        <b>${e.word} </b><span>${e.transcription}</span><span class="${n}"> - ${e.wordTranslate}</span>\n                    </div>\n                    <div class="col">\n                        <button class="btn btn-primary" type="button" data-name="listen" data-wordid="${e._id}" data-audio="${e.audio}" data-meaning="${e.audioMeaning}" data-example="${e.audioExample}">Listen</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col"><b>Correct: ${e.userWord.optional.statistic.correct} | Incorrect: ${e.userWord.optional.statistic.incorrect}</b></div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textMeaning}</div>\n                </div>\n                <div class="row mb-3">\n                    <div class="col ${n}">${e.textMeaningTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textExample}</div>\n                </div>\n                <div class="row mb-4">\n                    <div class="col ${n}">${e.textExampleTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="d-grid gap-2 d-md-block">\n                        <button class="btn btn-primary" type="button" data-name="difficult" data-wordid="${e._id}">Difficult</button>\n                        <button class="btn btn-primary" type="button" data-name="restore" data-wordid="${e._id}">Restore</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>`:`<div class="container p-2 mt-2 border border-danger wordCard bg-success rounded-4 border-3 learned" id="${e._id}">\n        <div class="row">\n            <div class="col-3 overflow-hidden d-flex justify-content-center m-auto">\n                <img class="m-auto" src="https://rs-lang-team-116.herokuapp.com/${e.image}">\n            </div>\n            <div class="col-8">\n                <div class="row">\n                    <div class="col">\n                        <b>${e.word} </b><span>${e.transcription}</span><span class="${n}"> - ${e.wordTranslate}</span>\n                    </div>\n                    <div class="col">\n                        <button class="btn btn-primary" type="button" data-name="listen" data-wordid="${e._id}" data-audio="${e.audio}" data-meaning="${e.audioMeaning}" data-example="${e.audioExample}">Listen</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textMeaning}</div>\n                </div>\n                <div class="row mb-3">\n                    <div class="col ${n}">${e.textMeaningTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textExample}</div>\n                </div>\n                <div class="row mb-4">\n                    <div class="col ${n}">${e.textExampleTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="d-grid gap-2 d-md-block">\n                        <button class="btn btn-primary" type="button" data-name="difficult" data-wordid="${e._id}">Difficult</button>\n                        <button class="btn btn-primary" type="button" data-name="restore" data-wordid="${e._id}">Restore</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>`}(e,v),c.push(e._id)}))}else{const n=yield o.Api.getWords(e,t),a=yield o.Api.getUserWords(l,p);n.forEach((e=>{const t=a.find((t=>t.wordId===e.id));i+=function(e,t,n){let i="false"==t?"displayNone":"",o="",a="",r="Learned";return null!=n&&"hard"===n.difficulty?(o="bg-danger",a='disabled="disabled"'):null!=n&&!0===n.optional.learning&&(o="bg-success",r="Restore"),null==n||0==n.optional.statistic.incorrect&&0==n.optional.statistic.correct?`<div class="container p-2 mt-2 border border-danger wordCard ${o} rounded-4 border-3" id="${e.id}">\n        <div class="row">\n            <div class="col-3 overflow-hidden d-flex justify-content-center m-auto">\n                <img class="m-auto" src="https://rs-lang-team-116.herokuapp.com/${e.image}">\n            </div>\n            <div class="col-8">\n                <div class="row">\n                    <div class="col">\n                        <b>${e.word} </b><span>${e.transcription}</span><span class="${i}"> - ${e.wordTranslate}</span>\n                    </div>\n                    <div class="col">\n                        <button class="btn btn-primary" type="button" data-name="listen" data-wordid="${e.id}" data-audio="${e.audio}" data-meaning="${e.audioMeaning}" data-example="${e.audioExample}">Listen</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textMeaning}</div>\n                </div>\n                <div class="row mb-3">\n                    <div class="col ${i}">${e.textMeaningTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textExample}</div>\n                </div>\n                <div class="row mb-4">\n                    <div class="col ${i}">${e.textExampleTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="d-grid gap-2 d-md-block">\n                        <button class="btn btn-primary" type="button" ${a} data-name="difficult" data-wordid="${e.id}">Difficult</button>\n                        <button class="btn btn-primary" type="button" data-name="${r.toLowerCase()}" data-wordid="${e.id}">${r}</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>`:`<div class="container p-2 mt-2 border border-danger wordCard ${o} rounded-4 border-3" id="${e.id}">\n        <div class="row">\n            <div class="col-3 overflow-hidden d-flex justify-content-center m-auto">\n                <img class="m-auto" src="https://rs-lang-team-116.herokuapp.com/${e.image}">\n            </div>\n            <div class="col-8">\n                <div class="row">\n                    <div class="col">\n                        <b>${e.word} </b><span>${e.transcription}</span><span class="${i}"> - ${e.wordTranslate}</span>\n                    </div>\n                    <div class="col">\n                        <button class="btn btn-primary" type="button" data-name="listen" data-wordid="${e.id}" data-audio="${e.audio}" data-meaning="${e.audioMeaning}" data-example="${e.audioExample}">Listen</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col"><b>Correct: ${n.optional.statistic.correct} | Incorrect: ${n.optional.statistic.incorrect}</b></div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textMeaning}</div>\n                </div>\n                <div class="row mb-3">\n                    <div class="col ${i}">${e.textMeaningTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textExample}</div>\n                </div>\n                <div class="row mb-4">\n                    <div class="col ${i}">${e.textExampleTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="d-grid gap-2 d-md-block">\n                        <button class="btn btn-primary" type="button" ${a} data-name="difficult" data-wordid="${e.id}">Difficult</button>\n                        <button class="btn btn-primary" type="button" data-name="${r.toLowerCase()}" data-wordid="${e.id}">${r}</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>`}(e,v,t),c.push(e.id)}))}else(yield o.Api.getWords(e,t)).forEach((e=>{i+=function(e,t){let n="false"==t?"displayNone":"";return`<div class="container p-2 mt-2 border border-danger wordCard rounded-4 border-3" id="${e.id}">\n        <div class="row">\n            <div class="col-3 overflow-hidden d-flex justify-content-center m-auto">\n                <img class="m-auto" src="https://rs-lang-team-116.herokuapp.com/${e.image}">\n            </div>\n            <div class="col-8">\n                <div class="row">\n                    <div class="col">\n                        <b>${e.word} </b><span>${e.transcription}</span><span class="${n}"> - ${e.wordTranslate}</span>\n                    </div>\n                    <div class="col">\n                        <button class="btn btn-primary" type="button" data-name="listen" data-wordid="${e.id}" data-audio="${e.audio}" data-meaning="${e.audioMeaning}" data-example="${e.audioExample}">Listen</button>\n                    </div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textMeaning}</div>\n                </div>\n                <div class="row mb-3">\n                    <div class="col ${n}">${e.textMeaningTranslate}</div>\n                </div>\n                <div class="row">\n                    <div class="col">${e.textExample}</div>\n                </div>\n                <div class="row mb-4">\n                    <div class="col ${n}">${e.textExampleTranslate}</div>\n                </div>\n            </div>\n        </div>\n    </div>`}(e,v),c.push(e.id)}));return{id:c,containerHTML:i}}))}(t,n,p);document.getElementById(e).innerHTML=m,document.querySelector(".pagination").style.pointerEvents="auto",function(e){let t=0;const n=document.getElementById(e);if(!n.children[0].classList.contains("learned")){for(let e=0;e<n.children.length;e+=1)n.children[e].classList.contains("bg-success")&&(t+=1);t===n.children.length&&c()}}(e),function(e){e.forEach((e=>{document.getElementById(e).addEventListener("click",(t=>{const n=t.target.dataset.name;n&&(new s.HandlerCombiner).handler(n,e)}))}))}(v)}))},t.difficultFilter=d,t.addStyleLearnedPage=c,t.removeStyleLearnedPage=l,t.getNewToken=u},9623:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DifficultBtn=void 0;const o=n(7724),a=n(2661);class r{constructor(e,t,n){this.toggleBtnName=e,this.userStat=t,this.userWordBody=n}handle(e){return i(this,void 0,void 0,(function*(){const t=localStorage.getItem("userId"),n=localStorage.getItem("userToken"),i=document.getElementById(`${e}`),{response:r,requestBody:s}=yield this.userWordBody.createBody(t,n,e,{difficulty:"hard",learning:!1});i.classList.contains("bg-success")?(yield o.Api.updateUserWord(t,n,e,s),i.classList.remove("bg-success"),i.classList.add("bg-danger"),this.toggleBtnName.toggleBtnName(i,"restore","learned")):null!=r[0].userWord?(yield o.Api.updateUserWord(t,n,e,s),i.classList.add("bg-danger")):(yield o.Api.createUserWord(t,n,e,s),i.classList.add("bg-danger")),i.querySelectorAll("button").forEach((e=>{"difficult"==e.dataset.name&&(e.disabled=!0)})),(0,a.removeStyleLearnedPage)(),i.classList.contains("learned")&&i.remove(),this.userStat.updateUserStatistic(t,n,-1).then()}))}}t.DifficultBtn=r,r.btnName="difficult"},468:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.EasyBtn=void 0;const o=n(7724);class a{constructor(e,t){this.toggleBtnName=e,this.userWordBody=t}handle(e){return i(this,void 0,void 0,(function*(){const t=localStorage.getItem("userId"),n=localStorage.getItem("userToken"),{requestBody:i}=yield this.userWordBody.createBody(t,n,e,{difficulty:"easy",learning:!1});yield o.Api.updateUserWord(t,n,e,i),document.getElementById(`${e}`).remove()}))}}t.EasyBtn=a,a.btnName="easy"},8182:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerCombiner=void 0;const i=n(1716),o=n(9623),a=n(468),r=n(7131),s=n(6829),d=n(7235),c=n(3039),l=n(4925),u=n(8989);t.HandlerCombiner=class{constructor(){this.btn=new Map,this.toggleBtnName=new d.ToggleBtnName,this.updateUserStat=new c.UpdateUserStatistic,this.userWordBody=new l.CreateUserWordBody,this.btn.set(i.ListenBtn.btnName,new i.ListenBtn(this.toggleBtnName)),this.btn.set(o.DifficultBtn.btnName,new o.DifficultBtn(this.toggleBtnName,this.updateUserStat,this.userWordBody)),this.btn.set(a.EasyBtn.btnName,new a.EasyBtn(this.toggleBtnName,this.userWordBody)),this.btn.set(r.LearningBtn.btnName,new r.LearningBtn(this.toggleBtnName,this.updateUserStat,this.userWordBody)),this.btn.set(s.RestoreBtn.btnName,new s.RestoreBtn(this.toggleBtnName,this.updateUserStat,this.userWordBody)),this.btn.set(u.StopListenBtn.btnName,new u.StopListenBtn(this.toggleBtnName))}handler(e,t){this.btn.get(e).handle(t)}}},7131:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.LearningBtn=void 0;const o=n(7724),a=n(2661);class r{constructor(e,t,n){this.toggleBtnName=e,this.userStat=t,this.userWordBody=n}handle(e){return i(this,void 0,void 0,(function*(){const t=localStorage.getItem("userId"),n=localStorage.getItem("userToken"),{requestBody:i}=(JSON.parse(localStorage.getItem(e)),yield this.userWordBody.createBody(t,n,e,{difficulty:"easy",learning:!0})),r=document.getElementById(`${e}`);let s=0;r.classList.contains("bg-danger")?(yield o.Api.updateUserWord(t,n,e,i),r.classList.remove("bg-danger"),r.classList.add("bg-success"),r.querySelectorAll("button").forEach((e=>{"difficult"===e.dataset.name&&(e.disabled=!1)}))):null!=(yield o.Api.getUserAggregateWordById(t,n,e))[0].userWord?(yield o.Api.updateUserWord(t,n,e,i),r.classList.add("bg-success")):(yield o.Api.createUserWord(t,n,e,i),r.classList.add("bg-success")),this.toggleBtnName.toggleBtnName(r,"learned","restore"),document.querySelectorAll("button").forEach((e=>{"restore"===e.dataset.name&&(s+=1)})),s>=r.parentElement.children.length&&(0,a.addStyleLearnedPage)(),r.querySelectorAll("button").forEach((e=>{"easy"===e.dataset.name&&r.remove()})),this.userStat.updateUserStatistic(t,n,1).then()}))}}t.LearningBtn=r,r.btnName="learned"},1716:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ListenBtn=void 0;class n{constructor(e){this.toggleBtnName=e}handle(e){const{audioWordUrl:t,audioMeaningUrl:n,audioExampleUrl:i}=this.getAudioUrl(e);let o=document.querySelector(".audioWordCard"),a=new Audio(`https://rs-lang-team-116.herokuapp.com/${t}`);const r=document.getElementById(`${e}`);if(o)this.changeActiveBtnStopListen(),o.childNodes.item(0).pause(),this.changeAudioTeg(o,a);else{const e=document.createElement("div");e.classList.add("audioWordCard"),e.append(a),document.body.append(e)}this.toggleBtnName.toggleBtnName(r,"listen","stop Listen"),o=document.querySelector(".audioWordCard"),a.play().then(),a.addEventListener("ended",(()=>{a=new Audio(`https://rs-lang-team-116.herokuapp.com/${n}`),this.changeAudioTeg(o,a),a.play().then(),a.addEventListener("ended",(()=>{a=new Audio(`https://rs-lang-team-116.herokuapp.com/${i}`),this.changeAudioTeg(o,a),a.play().then(),a.addEventListener("ended",(()=>{this.changeActiveBtnStopListen(),o.remove()}))}))}))}changeAudioTeg(e,t){e.innerHTML="",e.append(t)}getAudioUrl(e){let t,n,i;return document.getElementById(e).querySelectorAll("button").forEach((e=>{"listen"===e.dataset.name&&(t=e.dataset.audio,n=e.dataset.meaning,i=e.dataset.example)})),{audioWordUrl:t,audioMeaningUrl:n,audioExampleUrl:i}}changeActiveBtnStopListen(){document.querySelectorAll("button").forEach((e=>{"stop Listen"==e.dataset.name&&(e.dataset.name="listen",e.innerText="Listen")}))}}t.ListenBtn=n,n.btnName="listen"},6829:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RestoreBtn=void 0;const o=n(7724),a=n(2661);class r{constructor(e,t,n){this.toggleBtnName=e,this.userStat=t,this.userWordBody=n}handle(e){return i(this,void 0,void 0,(function*(){const t=localStorage.getItem("userId"),n=localStorage.getItem("userToken"),{requestBody:i}=yield this.userWordBody.createBody(t,n,e,{difficulty:"easy",learning:!1});yield o.Api.updateUserWord(t,n,e,i);const r=document.getElementById(`${e}`);r.classList.remove("bg-success"),this.toggleBtnName.toggleBtnName(r,"restore","learned"),(0,a.removeStyleLearnedPage)(),r.classList.contains("learned")&&r.remove(),this.userStat.updateUserStatistic(t,n,-1).then()}))}}t.RestoreBtn=r,r.btnName="restore"},8989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StopListenBtn=void 0;class n{constructor(e){this.toggleBtnName=e}handle(e){let t=document.querySelector(".audioWordCard");t.childNodes.item(0).pause();const n=document.getElementById(`${e}`);this.toggleBtnName.toggleBtnName(n,"stop Listen","listen"),t.remove()}}t.StopListenBtn=n,n.btnName="stop Listen"},4925:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateUserWordBody=void 0;const o=n(7724);t.CreateUserWordBody=class{createBody(e,t,n,a){return i(this,void 0,void 0,(function*(){const i=yield o.Api.getUserAggregateWordById(e,t,n).then();let r;return r=null!=i[0].userWord?{difficulty:a.difficulty,optional:{learning:a.learning,statistic:i[0].userWord.optional.statistic}}:{difficulty:a.difficulty,optional:{learning:a.learning,statistic:{row:0,correct:0,incorrect:0}}},{response:i,requestBody:r}}))}}},7235:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleBtnName=void 0,t.ToggleBtnName=class{toggleBtnName(e,t,n){e.querySelectorAll("button").forEach((e=>{const i=n[0].toUpperCase()+n.slice(1);e.dataset.name===t&&(e.dataset.name=n,e.innerText=i)}))}}},3039:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateUserStatistic=void 0;const o=n(7724);t.UpdateUserStatistic=class{updateUserStatistic(e,t,n){return i(this,void 0,void 0,(function*(){const i=yield o.Api.getUserStatistic(e,t),a=i.optional,r=new Date,s=`${r.getDate()} ${r.getMonth()+1} ${r.getFullYear()}`;let d=0;if(a.learnedWordsByDays.hasOwnProperty(s))-1==n&&0==a.learnedWordsByDays[s]&&(d=1),a.learnedWordsByDays[s]=a.learnedWordsByDays[s]+n+d;else{const e=a.learnedWordsByDays;e[s]=1,a.learnedWordsByDays=e}const c={learnedWords:i.learnedWords,optional:a};o.Api.upsertUserStatistic(e,t,c).then()}))}}},7730:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.resultPopUp=t.createAudioGame=t.createLevelsChoose=void 0;const o=n(7724),a=n(891);n(4155),n(1432);let r,s,d,c=0,l=0,u=[],p=null,v=0,m=0,g=0,h=0;const y=new Audio("audio/success.mp3"),f=new Audio("audio/fail.mp3");function w(e){const t=document.createElement("div");t.innerHTML='\n    <div class="levelHolder">\n        <div class="difficultLevel" id="level1">1</div>\n        <div class="difficultLevel" id="level2">2</div>\n        <div class="difficultLevel" id="level3">3</div>\n        <div class="difficultLevel" id="level4">4</div>\n        <div class="difficultLevel" id="level5">5</div>\n        <div class="difficultLevel" id="level6">6</div>\n    </div>\n',e.appendChild(t),document.querySelector("#level1").addEventListener("click",(()=>{b(0,(0,a.getRandomNumber)(30),e),t.remove()})),document.querySelector("#level2").addEventListener("click",(()=>{b(1,(0,a.getRandomNumber)(30),e),t.remove()})),document.querySelector("#level3").addEventListener("click",(()=>{b(2,(0,a.getRandomNumber)(30),e),t.remove()})),document.querySelector("#level4").addEventListener("click",(()=>{b(3,(0,a.getRandomNumber)(30),e),t.remove()})),document.querySelector("#level5").addEventListener("click",(()=>{b(4,(0,a.getRandomNumber)(30),e),t.remove()})),document.querySelector("#level6").addEventListener("click",(()=>{b(5,(0,a.getRandomNumber)(30),e),t.remove()}))}function b(e,t,n){return i(this,void 0,void 0,(function*(){let i=yield o.Api.getWords(e,t),a=!1;if(localStorage.getItem("userToken")&&(d=yield o.Api.getUserWords(localStorage.getItem("userId"),localStorage.getItem("userToken")),localStorage.getItem("currentPage")))for(let e of d)if(e.optional.learning)for(let t=0;t<i.length;t+=1)i[t].id===e.wordId&&i.splice(t,1);if(i.length<20){let n=1,r=i;do{let s=1;for(r=yield o.Api.getWords(e,t-n);i.length<20&&!a;)r.length>s?(i.push(r[s]),s+=1):a=!0;n+=1}while(i.length<20&&t-n>=0)}r=i?[...i]:[],localStorage.removeItem("currentPage"),localStorage.removeItem("currentGroup"),n.innerHTML='\n<div class=\'gameContainer\'>\n    <div class="score"></div>\n    <div class="game">\n        <img class="soundButton" src="../pictures/audio.png">\n        <div class="wordsContainer">\n            <div class="word" id="word1"></div>\n            <div class="word" id="word2"></div>\n            <div class="word" id="word3"></div>\n            <div class="word" id="word4"></div>\n        </div>\n        <div class="Surrender">Не знаю</div>\n    </div>\n</div>\n\n\n',yield S(i,n)}))}function S(e,t){return i(this,void 0,void 0,(function*(){if(0!==e.length){t.innerHTML=t.innerHTML,document.querySelector(".Surrender").addEventListener("click",(()=>i(this,void 0,void 0,(function*(){yield S(e,t)}))),{once:!0}),document.querySelector(".score").innerHTML=`${r.length-e.length+1}/${r.length}`;let n=(0,a.getRandomNumber)(e.length)-1,o=(0,a.getRandomNumber)(4),d=e.splice(n,1)[0];s&&s.remove(),s=new Audio("https://rs-lang-team-116.herokuapp.com/"+d.audio),s.play();let c=[];for(let n=1;n<=4;n++){const i=document.querySelector(`#word${n}`);if(n===o)i.innerHTML=d.wordTranslate,document.querySelector(".soundButton").addEventListener("click",(()=>{try{s.currentTime=0,s.play()}catch(e){console.log(e)}})),i.addEventListener("click",(()=>{$(e,t,d)}),{once:!0});else{let n;do{n=(0,a.getRandomNumber)(r.length)-1}while(c.includes(n)||r[n]===d);c.push(n),i.innerHTML=r[n].wordTranslate,i.addEventListener("click",(()=>{L(e,t,d)}))}}}else t.innerHTML="",w(t),yield k(),localStorage.getItem("userToken")&&(yield function(e){return i(this,void 0,void 0,(function*(){for(let t=0;t<u.length;t++){let n,i,a,r,s,d,c=!1;if(u[t].statistic){n=u[t].statistic.correct,i=u[t].statistic.incorrect,a=u[t].statistic.row,d="easy",r=!1;for(let o=0;o<e.length;o++)e[o].wordId==u[t].id&&(r=e[o].optional.learning,d=e[o].difficulty,c=!0,e[o].optional.statistic?(n+=e[o].optional.statistic.correct,i+=e[o].optional.statistic.incorrect,0===u[t].statistic.row?(a=0,r=!1):(a+=e[o].optional.statistic.row,("hard"==d&&a>=5&&!e[o].optional.learning||"easy"==d&&a>=3&&!e[o].optional.learning)&&(r=!0,m+=1))):"hard"==d&&a>=5&&!e[o].optional.learning||"easy"==d&&a>=3&&!e[o].optional.learning?(r=!0,m+=1):0==a&&(e[o].optional.learning&&(m-=1),r=!1));if(s={difficulty:d,optional:{learning:r,statistic:{row:a,correct:n,incorrect:i}}},c)try{yield o.Api.updateUserWord(localStorage.getItem("userId"),localStorage.getItem("userToken"),u[t].id,s)}catch(e){console.log("ой")}else{v+=1;try{yield o.Api.createUserWord(localStorage.getItem("userId"),localStorage.getItem("userToken"),u[t].id,s)}catch(e){console.log("ой-ой",e)}}}}}))}(d),yield function(){return i(this,void 0,void 0,(function*(){let e,t=c/(c+l)*100,n=`${(new Date).getDate()} ${(new Date).getMonth()+1} ${(new Date).getFullYear()}`;try{e=yield o.Api.getUserStatistic(localStorage.getItem("userId"),localStorage.getItem("userToken"));let i=t,a=c,r=l,s=v,d=g,u=e.optional.learnedWordsByDays,p=e.optional.newWordsByDays;if(n==e.optional.audio.date){i=(e.optional.audio.correctToday+c)/(e.optional.audio.correctToday+c+e.optional.audio.incorrectToday+l)*100,a+=e.optional.audio.correctToday,r+=e.optional.audio.incorrectToday,s+=e.optional.audio.newWords,d<e.optional.audio.maxInRow&&(d=e.optional.audio.maxInRow);let t=u[n]+m;u[n]=t;let o=p[n]+v;p[n]=o}else u[n]=m,p[n]=v;let h={learnedWords:m,optional:{audio:{accuracy:i,correctToday:a,incorrectToday:r,date:n,newWords:s,maxInRow:d},sprint:e.optional.sprint,learnedWordsByDays:u,newWordsByDays:p}};yield o.Api.upsertUserStatistic(localStorage.getItem("userId"),localStorage.getItem("userToken"),h).then()}catch(e){console.log("подгружаем статистику первый раз")}if(!e){let e={};e[n]=m;let i={};i[n]=v;let a={learnedWords:m,optional:{audio:{accuracy:t,date:n,maxInRow:g,newWords:v,correctToday:c,incorrectToday:l},sprint:{accuracy:0,date:n,maxInRow:0,newWords:0,correctToday:0,incorrectToday:0},learnedWordsByDays:e,newWordsByDays:i}};yield o.Api.upsertUserStatistic(localStorage.getItem("userId"),localStorage.getItem("userToken"),a)}c=0,l=0,u=[],p=[],T="",I="",v=0,m=0,g=0,h=0}))}())}))}function $(e,t,n){c+=1,f.pause(),y.pause(),f.currentTime=0,y.currentTime=0,y.play(),h+=1,h>g&&(g=h),n.statistic={correct:1,incorrect:0,row:1},u.push(n),S(e,t)}function L(e,t,n){l+=1,f.pause(),y.pause(),f.currentTime=0,y.currentTime=0,f.play(),h=0,n.statistic={correct:0,incorrect:1,row:0},u.push(n),S(e,t)}t.createLevelsChoose=w,t.createAudioGame=b;let T="",I="";function k(e){return i(this,void 0,void 0,(function*(){const e=document.createElement("div");document.body.appendChild(e),e.classList.add("backBlack");const t=document.createElement("div");document.body.appendChild(t),t.classList.add("popUp"),yield function(){return i(this,void 0,void 0,(function*(){let e=0;for(let t of u)if(1===t.statistic.incorrect){e+=1;const n=yield o.Api.getWord(t.id);T+=`\n            <div class="wrongWord">\n                <img class="musicPlay" id="wrongMusic${e.toString()}" src="../pictures/audio.png">\n                <p class ="wrongWordEng">${n.word}</p>\n                <p class ="wrongWordRus">${n.wordTranslate}</p>\n            </div>\n            `}}))}(),yield function(){return i(this,void 0,void 0,(function*(){let e=0;for(let t of u)if(1===t.statistic.correct){e+=1;const n=yield o.Api.getWord(t.id);I+=`\n            <div class="rightWord">\n                <img class="musicPlay" id="rightMusic${e.toString()}" src="../pictures/audio.png">\n                <p class ="rightWordEng">${n.word}</p>\n                <p class ="rightWordRus">${n.wordTranslate}</p>\n            </div>\n            `}}))}(),e.addEventListener("click",(()=>{e.remove(),t.remove()}));let n=`\n        <div class = "wrongWords">\n            <h3>Неправильно угадано: ${l} слов.</h3>\n            ${T}\n        </div>\n        <div class = "rightWords">\n            <h3>Правильно угадано: ${c} слов.</h3>\n            ${I}\n        </div>\n        <div class="right" id="tryAgain"> Попробовать еще раз</div>\n    `;t.innerHTML=n;let a=0;document.querySelector("#tryAgain").addEventListener("click",(()=>location.reload()));for(let e of u)if(1===e.statistic.incorrect){a+=1;const t=yield o.Api.getWord(e.id);let n=new Audio(`https://rs-lang-team-116.herokuapp.com/${t.audio}`);document.querySelector(`#wrongMusic${a.toString()}`).addEventListener("click",(()=>n.play()))}a=0;for(let e of u)if(1===e.statistic.correct){a+=1;const t=yield o.Api.getWord(e.id);let n=new Audio(`https://rs-lang-team-116.herokuapp.com/${t.audio}`);document.querySelector(`#rightMusic${a.toString()}`).addEventListener("click",(()=>n.play()))}}))}t.resultPopUp=k},891:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function r(e){try{d(i.next(e))}catch(e){a(e)}}function s(e){try{d(i.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.resultPopUp=t.createSprintGame=t.createLevelsChoose=t.sixtyFourty=t.getRandomNumber=void 0;const o=n(7724);n(4155),n(3432),n(4744),n(2833);let a,r=0,s=0,d=new Set,c=new Set,l=0,u=0,p=0,v=0;const m=new Audio("audio/success.mp3"),g=new Audio("audio/fail.mp3");function h(e){return Math.round(Math.random()*(e-1)+1)}function y(){return.6>=Math.random()}t.getRandomNumber=h,t.sixtyFourty=y;let f="",w="";function b(e){const t=document.createElement("div");t.innerHTML='\n    <div class="levelHolder">\n        <div class="difficultLevel" id="level1">1</div>\n        <div class="difficultLevel" id="level2">2</div>\n        <div class="difficultLevel" id="level3">3</div>\n        <div class="difficultLevel" id="level4">4</div>\n        <div class="difficultLevel" id="level5">5</div>\n        <div class="difficultLevel" id="level6">6</div>\n    </div>\n',e.appendChild(t),document.querySelector("#level1").addEventListener("click",(()=>{S(0,h(30),e),t.remove()})),document.querySelector("#level2").addEventListener("click",(()=>{S(1,h(30),e),t.remove()})),document.querySelector("#level3").addEventListener("click",(()=>{S(2,h(30),e),t.remove()})),document.querySelector("#level4").addEventListener("click",(()=>{S(3,h(30),e),t.remove()})),document.querySelector("#level5").addEventListener("click",(()=>{S(4,h(30),e),t.remove()})),document.querySelector("#level6").addEventListener("click",(()=>{S(5,h(30),e),t.remove()}))}function S(e,t,n){return i(this,void 0,void 0,(function*(){let d=yield o.Api.getWords(e,t),c=!1;if(localStorage.getItem("userToken")&&(a=yield o.Api.getUserWords(localStorage.getItem("userId"),localStorage.getItem("userToken")),localStorage.getItem("currentPage")))for(let e of a)if(e.optional.learning)for(let t=0;t<d.length;t+=1)d[t].id===e.wordId&&d.splice(t,1);if(d.length<20){let n=1,i=d;do{let a=0;for(i=yield o.Api.getWords(e,t-n);d.length<20&&!c;)i.length>=a?(d.push(i[a]),a+=1):c=!0;n+=1}while(d.length<20&&t-n>=0)}if(localStorage.removeItem("currentPage"),localStorage.removeItem("currentGroup"),null!=d[0]){if(y()){const e=h(d.length)-1;$(d,n,e,e)}else{const e=h(d.length)-1,t=h(d.length)-1;$(d,n,e,t)}!function(e,t,n){i(this,void 0,void 0,(function*(){const a=document.createElement("div");a.classList.add("clock");let d=60;e.appendChild(a),a.innerHTML=d.toString();const c=setInterval((()=>i(this,void 0,void 0,(function*(){d-=1,a.innerHTML=d.toString(),d<=0&&(e.innerHTML="",a.remove(),clearInterval(c),L(e),localStorage.getItem("userToken")&&(yield function(e,t){return i(this,void 0,void 0,(function*(){for(let n=0;n<e.length;n++){let i,a,r,s,d,c,p=!1,v=!1;if(e[n].statistic){i=e[n].statistic.correct,a=e[n].statistic.incorrect,r=e[n].statistic.row,c="easy",s=!1;for(let o=0;o<t.length;o++)t[o].wordId==e[n].id&&(p=!0,s=t[o].optional.learning,c=t[o].difficulty,v=!0,t[o].optional.statistic?(i+=t[o].optional.statistic.correct,a+=t[o].optional.statistic.incorrect,0===e[n].statistic.row?(r=0,s=!1):(r+=t[o].optional.statistic.row,("hard"==c&&r>=5&&!t[o].optional.learning||"easy"==c&&r>=3&&!t[o].optional.learning)&&(s=!0,u+=1))):"hard"==c&&r>=5&&!t[o].optional.learning||"easy"==c&&r>=3&&!t[o].optional.learning?(s=!0,u+=1):0==r&&(t[o].optional.learning&&(u-=1),s=!1));if(p||("hard"==c&&r>=5&&(s=!0,u+=1),"easy"==c&&r>=3&&(s=!0,u+=1)),d={difficulty:c,optional:{learning:s,statistic:{row:r,correct:i,incorrect:a}}},v)try{yield o.Api.updateUserWord(localStorage.getItem("userId"),localStorage.getItem("userToken"),e[n].id,d)}catch(e){console.log("ой")}else{l+=1;try{yield o.Api.createUserWord(localStorage.getItem("userId"),localStorage.getItem("userToken"),e[n].id,d)}catch(e){console.log("ой-ой",e)}}}}}))}(t,n),yield function(){return i(this,void 0,void 0,(function*(){let e,t=r/(r+s)*100,n=`${(new Date).getDate()} ${(new Date).getMonth()+1} ${(new Date).getFullYear()}`;try{e=yield o.Api.getUserStatistic(localStorage.getItem("userId"),localStorage.getItem("userToken"));let i=t,a=r,d=s,c=l,v=p,m=e.optional.learnedWordsByDays,g=e.optional.newWordsByDays;if(n==e.optional.sprint.date){i=(e.optional.sprint.correctToday+r)/(e.optional.sprint.correctToday+r+e.optional.sprint.incorrectToday+s)*100,a+=e.optional.sprint.correctToday,d+=e.optional.sprint.incorrectToday,c+=e.optional.sprint.newWords,v<e.optional.sprint.maxInRow&&(v=e.optional.sprint.maxInRow);let t=m[n]+u;m[n]=t;let o=g[n]+l;g[n]=o}else m[n]=u,g[n]=l;let h={learnedWords:u,optional:{sprint:{accuracy:i,correctToday:a,incorrectToday:d,date:n,newWords:c,maxInRow:v},audio:e.optional.audio,learnedWordsByDays:m,newWordsByDays:g}};yield o.Api.upsertUserStatistic(localStorage.getItem("userId"),localStorage.getItem("userToken"),h).then()}catch(e){console.log("подгружаем статистику первый раз")}if(!e){let e={};e[n]=u;let i={};i[n]=l;let a={learnedWords:u,optional:{sprint:{accuracy:t,date:n,maxInRow:p,newWords:l,correctToday:r,incorrectToday:s},audio:{accuracy:0,date:n,maxInRow:0,newWords:0,correctToday:0,incorrectToday:0},learnedWordsByDays:e,newWordsByDays:i}};yield o.Api.upsertUserStatistic(localStorage.getItem("userId"),localStorage.getItem("userToken"),a)}}))}()))}))),1e3)}))}(n,d,a)}else L(n)}))}function $(e,t,n,o){return i(this,void 0,void 0,(function*(){const i=document.createElement("div");i.classList.add("word"),i.innerHTML=e[n].word,document.querySelector(".clock")?t.insertBefore(i,document.querySelector(".clock")):t.appendChild(i);const a=document.createElement("div");a.classList.add("wordTranslate"),a.innerHTML=e[o].wordTranslate,i.after(a);const r=document.createElement("div");a.after(r);const s=document.createElement("div");s.classList.add("right"),s.innerHTML="Right →",s.addEventListener("click",(()=>{document.removeEventListener("keydown",c),I(e,n,o,i,a,s,d,t)}));const d=document.createElement("div");function c(r){const c=r.keyCode;39==c&&I(e,n,o,i,a,s,d,t),37==c&&T(e,n,o,i,a,s,d,t)}d.classList.add("wrong"),d.innerHTML="← Wrong",d.addEventListener("click",(()=>{document.removeEventListener("keydown",c),T(e,n,o,i,a,s,d,t)})),document.addEventListener("keydown",c,{once:!0}),r.appendChild(s),r.appendChild(d)}))}function L(e){return i(this,void 0,void 0,(function*(){const t=document.createElement("div");document.body.appendChild(t),t.classList.add("backBlack");const n=document.createElement("div");document.body.appendChild(n),n.classList.add("popUp"),yield function(){return i(this,void 0,void 0,(function*(){let e=0;for(let t of c){e+=1;const n=yield o.Api.getWord(t);f+=`\n        <div class="wrongWord">\n            <img class="musicPlay" id="wrongMusic${e.toString()}" src="../pictures/audio.png">\n            <p class ="wrongWordEng">${n.word}</p>\n            <p class ="wrongWordRus">${n.wordTranslate}</p>\n        </div>\n        `}}))}(),yield function(){return i(this,void 0,void 0,(function*(){let e=0;for(let t of d){e+=1;const n=yield o.Api.getWord(t);w+=`\n        <div class="rightWord">\n            <img class="musicPlay" id="rightMusic${e.toString()}" src="../pictures/audio.png">\n            <p class ="rightWordEng">${n.word}</p>\n            <p class ="rightWordRus">${n.wordTranslate}</p>\n        </div>\n        `}}))}(),t.addEventListener("click",(()=>{t.remove(),n.remove(),b(e)}));let a=`\n        <div class = "wrongWords">\n            <h3>Неправильно угадано: ${s} слов.</h3>\n            ${f}\n        </div>\n        <div class = "rightWords">\n            <h3>Правильно угадано: ${r} слов.</h3>\n            ${w}\n        </div>\n        <div class="right" id="tryAgain"> Попробовать еще раз</div>\n    `;n.innerHTML=a;let l=0;document.querySelector("#tryAgain").addEventListener("click",(()=>location.reload()));for(let e of c){l+=1;const t=yield o.Api.getWord(e);let n=new Audio(`https://rs-lang-team-116.herokuapp.com/${t.audio}`);document.querySelector(`#wrongMusic${l.toString()}`).addEventListener("click",(()=>n.play()))}l=0;for(let e of d){l+=1;const t=yield o.Api.getWord(e);let n=new Audio(`https://rs-lang-team-116.herokuapp.com/${t.audio}`);document.querySelector(`#rightMusic${l.toString()}`).addEventListener("click",(()=>n.play()))}}))}function T(e,t,n,o,a,l,u,f){return i(this,void 0,void 0,(function*(){t===n?(g.pause(),g.currentTime=0,m.currentTime=0,m.pause(),g.play(),s+=1,v=0,c.add(e[t].id),e[t].statistic?(e[t].statistic.incorrect+=1,e[t].statistic.row=0):e[t].statistic={correct:0,incorrect:1,row:0}):(g.pause(),g.currentTime=0,m.currentTime=0,m.pause(),m.play(),r+=1,v+=1,v>p&&(p=v),d.add(e[t].id),e[t].statistic?(e[t].statistic.correct+=1,e[t].statistic.row+=1):e[t].statistic={correct:1,incorrect:0,row:1}),o.remove(),a.remove(),l.remove(),u.remove();const i=h(e.length)-1;let w;w=y()?i:h(e.length)-1,yield $(e,f,i,w)}))}function I(e,t,n,o,a,l,u,f){return i(this,void 0,void 0,(function*(){t!==n?(g.pause(),m.pause(),g.currentTime=0,m.currentTime=0,g.play(),s+=1,v=0,c.add(e[t].id),e[t].statistic?(e[t].statistic.incorrect+=1,e[t].statistic.row=0):e[t].statistic={correct:0,incorrect:1,row:0}):(g.pause(),m.pause(),g.currentTime=0,m.currentTime=0,m.play(),r+=1,v+=1,v>p&&(p=v),d.add(e[t].id),e[t].statistic?(e[t].statistic.correct+=1,e[t].statistic.row+=1):e[t].statistic={correct:1,incorrect:0,row:1}),o.remove(),a.remove(),l.remove(),u.remove();const i=h(e.length)-1;let w;w=y()?i:h(e.length)-1,yield $(e,f,i,w)}))}t.createLevelsChoose=b,t.createSprintGame=S,t.resultPopUp=L},7554:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(7730),a=n(8974),r=i(n(3336));let s;(0,i(n(9387)).default)("Audio"),(0,r.default)("Audio",!1),document.querySelector(".sign-in-or-log-in-button")?(s=document.querySelector(".sign-in-or-log-in-button"),s.addEventListener("click",a.registration)):(s=document.querySelector(".log-out"),s.addEventListener("click",a.logOut)),localStorage.getItem("currentPage")?(0,o.createAudioGame)(+localStorage.getItem("currentGroup"),+localStorage.getItem("currentPage"),document.querySelector(".gameHolder")):(0,o.createLevelsChoose)(document.querySelector(".gameHolder")),document.addEventListener("keydown",(e=>{"1"===e.key&&document.querySelector("#word1").dispatchEvent(new Event("click")),"2"===e.key&&document.querySelector("#word2").dispatchEvent(new Event("click")),"3"===e.key&&document.querySelector("#word3").dispatchEvent(new Event("click")),"4"===e.key&&document.querySelector("#word4").dispatchEvent(new Event("click"))}))}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../"})(),n(7554)})();
